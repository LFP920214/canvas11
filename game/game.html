<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        html,body{
            width:100%;height:100%;
            ov erflow: hidden;
            padding:0;margin: 0;
        }
        canvas{
            background: url(imgs/back/back.jpg);
            background-repeat:repeat-x;
            background-color:#000;

        }

    </style>
    <script src="game.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded",function(){
            var img=document.querySelector("img");
            /*img.onmouseover=function(){
               img.src="imgs/demo.png";
            }
            */


            function imageLoad(imgObjs){
                this.imgObjs=imgObjs;
                this.urlArr=[];
            }
            imageLoad.prototype={
                geturl:function(){

                    for(var i=0;i<this.imgObjs.length;i++){
                        this.urlArr.push(this.imgObjs[i].src);
                    }
                },

                load:function(url,callback){
                        var imgobj=new Image();
                        imgobj.src=url;
                        imgobj.onload=function(){
                            if(callback) {
                                callback();
                            }
                        }
                },
                loadAll:function(callback){
                    this.geturl();
                    var that=this;
                    var num=1;
                    for(var i=0;i<this.urlArr.length;i++){
                        (function(index){
                            that.load(that.urlArr[index],function(){


                                that.load(that.urlArr[index]);
                                num++;

                                if(num==that.urlArr.length){
    callback();

                                }


                            })
                        })(i)

                    }
                }
            }


           var obj= new imageLoad(document.querySelectorAll("img"));

            obj.loadAll(function(){

            });




        })
    </script>
</head>
<body>

<input type="button" value="切换">

<canvas>

</canvas>

<img src="imgs/person/run1.png" alt="" class="run" hidden>
<img src="imgs/person/run2.png" alt="" class="run" hidden>
<img src="imgs/person/run3.png" alt="" class="run" hidden>
<img src="imgs/person/run4.png" alt="" class="run" hidden>
<img src="imgs/person/run5.png" alt="" class="run" hidden>
<img src="imgs/person/run6.png" alt="" class="run" hidden>
<img src="imgs/person/run7.png" alt="" class="run" hidden>
</body>
</html>